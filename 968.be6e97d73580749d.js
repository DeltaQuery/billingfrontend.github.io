"use strict";(self.webpackChunkschool_billing=self.webpackChunkschool_billing||[]).push([[968],{3968:(gt,Z,p)=>{p.r(Z),p.d(Z,{StartModule:()=>lt});var S=p(9808),P=p(520),f=p(6696),t=p(5e3),d=p(3108),u=p(9125),C=p(9156),m=p(3639),N=p(7125),T=p(5245);function v(o,h){if(1&o&&(t.TgZ(0,"span",11),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("",e.activeStudents," ")}}function U(o,h){1&o&&t._uU(0,"0")}function q(o,h){if(1&o&&(t.TgZ(0,"span",11),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("",e.retiredStudents," ")}}function b(o,h){1&o&&t._uU(0,"0")}function R(o,h){if(1&o&&(t.TgZ(0,"span",11),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("",e.scholarStudents," ")}}function D(o,h){1&o&&t._uU(0,"0")}function x(o,h){if(1&o&&(t.TgZ(0,"span",11),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("",e.semiScholarStudents," ")}}function L(o,h){1&o&&t._uU(0,"0")}let y=(()=>{class o{constructor(e){this._studentService=e,this.activeStudents=0}ngOnInit(){this.getStudents()}getStudents(){this._studentService.getStudents().subscribe({next:e=>{this.students=e;let r=this.students.filter(E=>0==E.ESTATUS),i=this.students.filter(E=>1==E.ESTATUS),n=this.students.filter(E=>1==E.BECA_ALUMNO),l=this.students.filter(E=>E.DESC_ALUMNO>0);this.activeStudents=i.length,this.retiredStudents=r.length,this.scholarStudents=n.length,this.semiScholarStudents=l.length},error:e=>{console.log(e)}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.V))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-students"]],decls:36,vars:8,consts:[["id","container"],[1,"row","mb-3"],[1,"col-6","d-flex","flex-column","text-center"],["class","number",4,"ngIf","ngIfElse"],["class","number"],["ceroActived",""],[1,"heading"],["ceroRetired",""],[1,"row"],["ceroScholars",""],["ceroSemiScholars",""],[1,"number"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1"),t.TgZ(2,"mat-icon"),t._uU(3,"school"),t.qZA(),t._uU(4," Alumnos"),t.qZA(),t._UZ(5,"hr"),t.TgZ(6,"div",1),t.TgZ(7,"div",2),t.TgZ(8,"div"),t.YNc(9,v,2,1,"span",3),t.YNc(10,U,1,0,"ng-template",4,5,t.W1O),t.qZA(),t.TgZ(12,"div",6),t._uU(13,"Activos"),t.qZA(),t.qZA(),t.TgZ(14,"div",2),t.TgZ(15,"div"),t.YNc(16,q,2,1,"span",3),t.YNc(17,b,1,0,"ng-template",4,7,t.W1O),t.qZA(),t.TgZ(19,"div",6),t._uU(20,"Retirados"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",8),t.TgZ(22,"div",2),t.TgZ(23,"div"),t.YNc(24,R,2,1,"span",3),t.YNc(25,D,1,0,"ng-template",4,9,t.W1O),t.qZA(),t.TgZ(27,"div",6),t._uU(28,"Becados"),t.qZA(),t.qZA(),t.TgZ(29,"div",2),t.TgZ(30,"div"),t.YNc(31,x,2,1,"span",3),t.YNc(32,L,1,0,"ng-template",4,10,t.W1O),t.qZA(),t.TgZ(34,"div",6),t._uU(35,"Semibeca"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const i=t.MAs(11),n=t.MAs(18),l=t.MAs(26),E=t.MAs(33);t.xp6(9),t.Q6J("ngIf",r.activeStudents)("ngIfElse",i),t.xp6(7),t.Q6J("ngIf",r.retiredStudents)("ngIfElse",n),t.xp6(8),t.Q6J("ngIf",r.scholarStudents)("ngIfElse",l),t.xp6(7),t.Q6J("ngIf",r.semiScholarStudents)("ngIfElse",E)}},directives:[T.Hw,S.O5],styles:["#container[_ngcontent-%COMP%]{padding:8px;background-color:#b8c6db;background-color:#e8e8e8;height:100%}.number[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.heading[_ngcontent-%COMP%]{font-style:italic;color:#585858}h1[_ngcontent-%COMP%]{font-weight:500}"]}),o})(),F=(()=>{class o{constructor(e){this._invoiceService=e,this.monthInvoices=[0,0,0,0],this.totalIncome=[0,0,0,0],this.monthName=[0,0,0,0]}ngOnInit(){this.getInvoices()}getInvoices(){this._invoiceService.getInvoices().subscribe({next:e=>{this.invoices=e;let r=new Date,i=(new Date).toISOString(),n=new Date(r.getFullYear(),r.getMonth(),1).toISOString();this.monthName[0]=r.getMonth(),this.monthInvoices[0]=this.invoices.filter(s=>s.FECHA_REGISTRO<=i&&s.FECHA_REGISTRO>=n&&1==s.ESTATUS);let l=new Date(r.getFullYear(),r.getMonth()-1,1).toISOString(),E=new Date(r.getFullYear(),r.getMonth(),0).toISOString();this.monthName[1]=r.getMonth()-1,this.monthInvoices[1]=this.invoices.filter(s=>s.FECHA_REGISTRO<=E&&s.FECHA_REGISTRO>=l&&1==s.ESTATUS);let c=new Date(r.getFullYear(),r.getMonth()-2,1).toISOString(),A=new Date(r.getFullYear(),r.getMonth()-1,0).toISOString();this.monthName[2]=r.getMonth()-2,this.monthInvoices[2]=this.invoices.filter(s=>s.FECHA_REGISTRO<=A&&s.FECHA_REGISTRO>=c&&1==s.ESTATUS);let a=new Date(r.getFullYear(),r.getMonth()-3,1).toISOString(),_=new Date(r.getFullYear(),r.getMonth()-2,0).toISOString();this.monthName[3]=r.getMonth()-3,this.monthInvoices[3]=this.invoices.filter(s=>s.FECHA_REGISTRO<=_&&s.FECHA_REGISTRO>=a&&1==s.ESTATUS);for(let s=0;s<this.monthInvoices.length;s++)this.totalIncome[s]=this.monthInvoices[s].reduce((g,M)=>g+M.TOTAL_USD,0);for(let s=0;s<this.monthName.length;s++)0==this.monthName[s]?this.monthName[s]="Enero":1==this.monthName[s]?this.monthName[s]="Febrero":2==this.monthName[s]?this.monthName[s]="Marzo":3==this.monthName[s]?this.monthName[s]="Abril":4==this.monthName[s]?this.monthName[s]="Mayo":5==this.monthName[s]?this.monthName[s]="Junio":6==this.monthName[s]?this.monthName[s]="Julio":7==this.monthName[s]?this.monthName[s]="Agosto":8==this.monthName[s]?this.monthName[s]="Septiembre":9==this.monthName[s]||-3==this.monthName[s]?this.monthName[s]="Octubre":10==this.monthName[s]||-2==this.monthName[s]?this.monthName[s]="Noviembre":(11==this.monthName[s]||-1==this.monthName[s])&&(this.monthName[s]="Diciembre")},error:e=>{console.log(e)}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C.q))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-income"]],decls:40,vars:8,consts:[["id","container"],[1,"row","mb-3"],[1,"col-6","d-flex","flex-column","text-center"],[1,"number"],[1,"dollar-sign"],[1,"heading"],[1,"row"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1"),t.TgZ(2,"mat-icon"),t._uU(3,"payment"),t.qZA(),t._uU(4," Ingresos"),t.qZA(),t._UZ(5,"hr"),t.TgZ(6,"div",1),t.TgZ(7,"div",2),t.TgZ(8,"div"),t.TgZ(9,"span",3),t._uU(10),t.TgZ(11,"span",4),t._uU(12,"$"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",5),t._uU(14),t.qZA(),t.qZA(),t.TgZ(15,"div",2),t.TgZ(16,"div"),t.TgZ(17,"span",3),t._uU(18),t.TgZ(19,"span",4),t._uU(20,"$"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",5),t._uU(22),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",6),t.TgZ(24,"div",2),t.TgZ(25,"div"),t.TgZ(26,"span",3),t._uU(27),t.TgZ(28,"span",4),t._uU(29,"$"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",5),t._uU(31),t.qZA(),t.qZA(),t.TgZ(32,"div",2),t.TgZ(33,"div"),t.TgZ(34,"span",3),t._uU(35),t.TgZ(36,"span",4),t._uU(37,"$"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"div",5),t._uU(39),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.hij("",r.totalIncome[0]," "),t.xp6(4),t.hij(" ",r.monthName[0]," "),t.xp6(4),t.hij("",r.totalIncome[1]," "),t.xp6(4),t.hij(" ",r.monthName[1]," "),t.xp6(5),t.hij("",r.totalIncome[2]," "),t.xp6(4),t.hij(" ",r.monthName[2]," "),t.xp6(4),t.hij("",r.totalIncome[3]," "),t.xp6(4),t.hij(" ",r.monthName[3]," "))},directives:[T.Hw],styles:["#container[_ngcontent-%COMP%]{padding:8px;background-color:#b8c6db;background-color:#e8e8e8;height:100%}.number[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.heading[_ngcontent-%COMP%]{font-style:italic;color:#585858}.dollar-sign[_ngcontent-%COMP%]{margin-left:-4px;font-size:16px}h1[_ngcontent-%COMP%]{font-weight:500}"]}),o})();function G(o,h){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th",5),t._uU(2,"1"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,e.debtors[0].DEUDA_TOTAL)," "),t.xp6(3),t.hij(" ",e.debtors[0].NOMBRES_ALUMNO+" "+e.debtors[0].APELLIDOS_ALUMNO," ")}}function H(o,h){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th",5),t._uU(2,"2"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,e.debtors[1].DEUDA_TOTAL),""),t.xp6(3),t.hij(" ",e.debtors[1].NOMBRES_ALUMNO+" "+e.debtors[1].APELLIDOS_ALUMNO," ")}}function B(o,h){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th",5),t._uU(2,"3"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,e.debtors[2].DEUDA_TOTAL),""),t.xp6(3),t.hij(" ",e.debtors[2].NOMBRES_ALUMNO+" "+e.debtors[2].APELLIDOS_ALUMNO," ")}}function w(o,h){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th",5),t._uU(2,"4"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,e.debtors[3].DEUDA_TOTAL),""),t.xp6(3),t.hij(" ",e.debtors[3].NOMBRES_ALUMNO+" "+e.debtors[3].APELLIDOS_ALUMNO," ")}}function V(o,h){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th",5),t._uU(2,"5"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,e.debtors[4].DEUDA_TOTAL),""),t.xp6(3),t.hij(" ",e.debtors[4].NOMBRES_ALUMNO+" "+e.debtors[4].APELLIDOS_ALUMNO," ")}}function J(o,h){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th",5),t._uU(2,"6"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,e.debtors[5].DEUDA_TOTAL),""),t.xp6(3),t.hij(" ",e.debtors[5].NOMBRES_ALUMNO+" "+e.debtors[5].APELLIDOS_ALUMNO," ")}}function Y(o,h){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th",5),t._uU(2,"7"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,e.debtors[6].DEUDA_TOTAL),""),t.xp6(3),t.hij(" ",e.debtors[6].NOMBRES_ALUMNO+" "+e.debtors[6].APELLIDOS_ALUMNO," ")}}function j(o,h){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th",5),t._uU(2,"8"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,e.debtors[7].DEUDA_TOTAL),""),t.xp6(3),t.hij(" ",e.debtors[7].NOMBRES_ALUMNO+" "+e.debtors[7].APELLIDOS_ALUMNO," ")}}function z(o,h){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th",5),t._uU(2,"9"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,e.debtors[8].DEUDA_TOTAL),""),t.xp6(3),t.hij(" ",e.debtors[8].NOMBRES_ALUMNO+" "+e.debtors[8].APELLIDOS_ALUMNO," ")}}function k(o,h){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th",5),t._uU(2,"10"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,e.debtors[9].DEUDA_TOTAL),""),t.xp6(3),t.hij(" ",e.debtors[9].NOMBRES_ALUMNO+" "+e.debtors[9].APELLIDOS_ALUMNO," ")}}function Q(o,h){if(1&o&&(t.TgZ(0,"table",2),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th",3),t._uU(4,"#"),t.qZA(),t.TgZ(5,"th",3),t._uU(6,"Deuda"),t.qZA(),t.TgZ(7,"th",3),t._uU(8,"Alumno"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"tbody"),t.YNc(10,G,8,4,"tr",4),t.YNc(11,H,8,4,"tr",4),t.YNc(12,B,8,4,"tr",4),t.YNc(13,w,8,4,"tr",4),t.YNc(14,V,8,4,"tr",4),t.YNc(15,J,8,4,"tr",4),t.YNc(16,Y,8,4,"tr",4),t.YNc(17,j,8,4,"tr",4),t.YNc(18,z,8,4,"tr",4),t.YNc(19,k,8,4,"tr",4),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(10),t.Q6J("ngIf",e.debtors[0]),t.xp6(1),t.Q6J("ngIf",e.debtors[1]),t.xp6(1),t.Q6J("ngIf",e.debtors[2]),t.xp6(1),t.Q6J("ngIf",e.debtors[3]),t.xp6(1),t.Q6J("ngIf",e.debtors[4]),t.xp6(1),t.Q6J("ngIf",e.debtors[5]),t.xp6(1),t.Q6J("ngIf",e.debtors[6]),t.xp6(1),t.Q6J("ngIf",e.debtors[7]),t.xp6(1),t.Q6J("ngIf",e.debtors[8]),t.xp6(1),t.Q6J("ngIf",e.debtors[9])}}let X=(()=>{class o{constructor(e,r,i,n){this._studentService=e,this._customerService=r,this._invoiceService=i,this._productService=n,this.escenario=this.getScenario(),this.students=[],this.customers=[],this.invoices=[],this.products=[],this.productArr=[],this.invoiceArr=[],this.paymentsArr=[],this.datesArr=[],this.solvencyArr=[],this.numbers=[1,2,3,4,5,6,7,8,9,10]}ngOnInit(){this.getScenario(),this.getCustomers(),this.getInvoices(),this.getProducts(),this.getStudents()}getScenario(){let e=(new Date).toJSON().slice(0,10),r=new Date("2021/09/05"),i=new Date("2021/10/05"),n=new Date("2021/11/05"),l=new Date("2021/12/05"),E=new Date("2022/01/05"),c=new Date("2022/02/05"),A=new Date("2022/03/05"),a=new Date("2022/04/05"),_=new Date("2022/05/05"),s=new Date("2022/06/05"),g=new Date("2022/07/05"),O=(new Date("2022/08/05"),new Date(e));return O>=r&&O<i?1:O>i&&O<n?2:O>n&&O<l?3:O>l&&O<E?4:O>E&&O<c?5:O>c&&O<A?6:O>A&&O<a?7:O>a&&O<_?8:O>_&&O<s?9:O>s&&O<g?10:12}getCustomers(){this._customerService.getCustomers().subscribe({next:e=>{this.customers=e},error:e=>{console.log(e)}})}getInvoices(){this._invoiceService.getInvoices().subscribe({next:e=>{this.invoices=e},error:e=>{console.log(e)}})}getProducts(){this._productService.getProducts().subscribe({next:e=>{this.products=e},error:e=>{console.log(e)}})}getStudents(){this._studentService.getStudents().subscribe({next:e=>{this.students=e,this.getProductScenario(this.productArr)},error:e=>{console.log(e)}})}getProductScenario(e){for(let r=0;r<12;r++)e[r]=this.products.filter(i=>i.ESCENARIO_PRODUCTO===r+1);this.addKeys()}addKeys(){for(let e of this.students)e.PREINSCRIPCION_PAGO=0,e.INSCRIPCION_PAGO=0,e.PREINSCRIPCION_FECHA=Date,e.INSCRIPCION_FECHA=Date,e.PAGO_MESES_MONTO=[],e.PAGO_MESES_FECHA=[],e.SOLVENCIA_MESES=[],e.PAGO_SEPTIEMBRE=0,e.PAGO_OCTUBRE=0,e.PAGO_NOVIEMBRE=0,e.PAGO_DICIEMBRE=0,e.PAGO_ENERO=0,e.PAGO_FEBRERO=0,e.PAGO_MARZO=0,e.PAGO_ABRIL=0,e.PAGO_MAYO=0,e.PAGO_JUNIO=0,e.PAGO_JULIO=0,e.PAGO_AGOSTO=0,e.FECHA_SEPTIEMBRE="",e.FECHA_OCTUBRE="",e.FECHA_NOVIEMBRE="",e.FECHA_DICIEMBRE="",e.FECHA_ENERO="",e.FECHA_FEBRERO="",e.FECHA_MARZO="",e.FECHA_ABRIL="",e.FECHA_MAYO="",e.FECHA_JUNIO="",e.FECHA_JULIO="",e.FECHA_AGOSTO="",e.DEUDA_TOTAL=0,this.getStudentInvoices(e)}getStudentInvoices(e){this.invoiceArr=this.invoices.filter(r=>r.ID_ALUMNO===e.ID_ALUMNO&&1==r.ESTATUS),this.productArr=this.productArr.filter(r=>""!=r),this.datesArr=[],this.paymentsArr.length=this.productArr.length,this.solvencyArr.length=this.productArr.length;for(let r=0;r<this.paymentsArr.length;r++)this.paymentsArr[r]=0;for(let r=0;r<this.solvencyArr.length;r++)this.solvencyArr[r]=!1;if(this.invoiceArr.length>0)for(let r=0;r<this.invoiceArr.length;r++)for(let i=0;i<this.productArr.length;i++)for(let n=0;n<this.productArr[i].length;n++){if(this.invoiceArr[r].ESCENARIO_1==this.productArr[i][n].ESCENARIO_PRODUCTO){this.paymentsArr[i]=this.paymentsArr[i]+this.invoiceArr[r].MONTO_1_USD,this.datesArr[i]=this.invoiceArr[r].FECHA_REGISTRO,("Full"==this.productArr[i][n].TIPO_PRODUCTO||"Complemento"==this.productArr[i][n].TIPO_PRODUCTO)&&(this.solvencyArr[i]=!0);break}if(this.invoiceArr[r].ESCENARIO_2==this.productArr[i][n].ESCENARIO_PRODUCTO){this.paymentsArr[i]=this.paymentsArr[i]+this.invoiceArr[r].MONTO_2_USD,this.datesArr[i]=this.invoiceArr[r].FECHA_REGISTRO,("Full"==this.productArr[i][n].TIPO_PRODUCTO||"Complemento"==this.productArr[i][n].TIPO_PRODUCTO)&&(this.solvencyArr[i]=!0);break}if(this.invoiceArr[r].ESCENARIO_3==this.productArr[i][n].ESCENARIO_PRODUCTO){this.paymentsArr[i]=this.paymentsArr[i]+this.invoiceArr[r].MONTO_3_USD,this.datesArr[i]=this.invoiceArr[r].FECHA_REGISTRO,("Full"==this.productArr[i][n].TIPO_PRODUCTO||"Complemento"==this.productArr[i][n].TIPO_PRODUCTO)&&(this.solvencyArr[i]=!0);break}if(this.invoiceArr[r].ESCENARIO_4==this.productArr[i][n].ESCENARIO_PRODUCTO){this.paymentsArr[i]=this.paymentsArr[i]+this.invoiceArr[r].MONTO_4_USD,this.datesArr[i]=this.invoiceArr[r].FECHA_REGISTRO,("Full"==this.productArr[i][n].TIPO_PRODUCTO||"Complemento"==this.productArr[i][n].TIPO_PRODUCTO)&&(this.solvencyArr[i]=!0);break}if(this.invoiceArr[r].ESCENARIO_5==this.productArr[i][n].ESCENARIO_PRODUCTO){this.paymentsArr[i]=this.paymentsArr[i]+this.invoiceArr[r].MONTO_5_USD,this.datesArr[i]=this.invoiceArr[r].FECHA_REGISTRO,("Full"==this.productArr[i][n].TIPO_PRODUCTO||"Complemento"==this.productArr[i][n].TIPO_PRODUCTO)&&(this.solvencyArr[i]=!0);break}}e.PAGO_MESES_MONTO=this.paymentsArr,e.FECHA_MESES_MONTO=this.datesArr,e.SOLVENCIA_MESES=this.solvencyArr,this.getStudentDebt(e)}getStudentDebt(e){for(let r=0;r<this.escenario;r++)if(this.escenario==r+1){let i=this.productArr.slice(0,r+1),n=[];if("Preescolar"==e.NIVEL_ALUMNO)for(let _=0;_<i.length;_++){let s=i[_].filter(g=>"Full"==g.TIPO_PRODUCTO);n.push(s[0].ESCENARIO_PRODUCTO<this.escenario&&0!=s[0].PAGO_VENCIDO_PREESCOLAR?s[0].PAGO_VENCIDO_PREESCOLAR:s[0].PRECIO_PREESCOLAR)}if("Basica"==e.NIVEL_ALUMNO)for(let _=0;_<i.length;_++){let s=i[_].filter(g=>"Full"==g.TIPO_PRODUCTO);n.push(s[0].ESCENARIO_PRODUCTO<this.escenario&&0!=s[0].PAGO_VENCIDO_BASICA?s[0].PAGO_VENCIDO_BASICA:s[0].PRECIO_BASICA)}let l=[];if(l){for(let g=0;g<12;g++)l[g]=!1;for(let g=0;g<12;g++)e.INICIO_COBRO==g+1&&(l[g]=!0);for(let g=0;g<12;g++)e.FINAL_COBRO==g+1&&(l[g]=!0);let _=l.indexOf(!0),s=l.lastIndexOf(!0);for(let g=_;g<s;g++)l[g]=!0;if("1"==e.ESTATUS)for(let g=Number(e.FECHA_RETIRO);g<12;g++)l[g]=!1}if(1==e.BECA_ALUMNO)for(let _=0;_<e.SOLVENCIA_MESES.length;_++)e.SOLVENCIA_MESES[_]=!0;if(e.DESC_ALUMNO>0)for(let _=0;_<n.length;_++)n[_]=n[_]*e.DESC_ALUMNO;for(let _=0;_<n.length;_++)n[_]=n[_]-e.PAGO_MESES_MONTO[_],(1==e.SOLVENCIA_MESES[_]||n[_]<0||0==l[_])&&(n[_]=0);e.PAGO_SEPTIEMBRE=e.PAGO_MESES_MONTO[0],e.PAGO_OCTUBRE=e.PAGO_MESES_MONTO[1],e.PAGO_NOVIEMBRE=e.PAGO_MESES_MONTO[2],e.PAGO_DICIEMBRE=e.PAGO_MESES_MONTO[3],e.PAGO_ENERO=e.PAGO_MESES_MONTO[4],e.PAGO_FEBRERO=e.PAGO_MESES_MONTO[5],e.PAGO_MARZO=e.PAGO_MESES_MONTO[6],e.PAGO_ABRIL=e.PAGO_MESES_MONTO[7],e.PAGO_MAYO=e.PAGO_MESES_MONTO[8],e.PAGO_JUNIO=e.PAGO_MESES_MONTO[9],e.PAGO_JULIO=e.PAGO_MESES_MONTO[10],e.PAGO_AGOSTO=e.PAGO_MESES_MONTO[11],e.FECHA_SEPTIEMBRE=e.FECHA_MESES_MONTO[0],e.FECHA_OCTUBRE=e.FECHA_MESES_MONTO[1],e.FECHA_NOVIEMBRE=e.FECHA_MESES_MONTO[2],e.FECHA_DICIEMBRE=e.FECHA_MESES_MONTO[3],e.FECHA_ENERO=e.FECHA_MESES_MONTO[4],e.FECHA_FEBRERO=e.FECHA_MESES_MONTO[5],e.FECHA_MARZO=e.FECHA_MESES_MONTO[6],e.FECHA_ABRIL=e.FECHA_MESES_MONTO[7],e.FECHA_MAYO=e.FECHA_MESES_MONTO[8],e.FECHA_JUNIO=e.FECHA_MESES_MONTO[9],e.FECHA_JULIO=e.FECHA_MESES_MONTO[10],e.FECHA_AGOSTO=e.FECHA_MESES_MONTO[11];let A,E=n.findIndex(_=>_>0),c=n.findLastIndex(_=>_>0);0==E&&(A="Mes de Septiembre 2021"),1==E&&(A="Mes de Octubre 2021"),2==E&&(A="Mes de Noviembre 2021"),3==E&&(A="Mes de Diciembre 2021"),4==E&&(A="Mes de Enero 2022"),5==E&&(A="Mes de Febrero 2022"),6==E&&(A="Mes de Marzo 2022"),7==E&&(A="Mes de Abril 2022"),8==E&&(A="Mes de Mayo 2022"),9==E&&(A="Mes de Junio 2022"),10==E&&(A="Mes de Julio 2022"),11==E&&(A="Mes de Agosto 2022"),E!=c&&(A+=" - ",0==c&&(A+=" Mes de Septiembre 2021",e.MES_DE_ULTIMO_PAGO="Mes de Septiembre de 2021"),1==c&&(A+=" Mes de Octubre 2021",e.MES_DE_ULTIMO_PAGO="Mes de Octubre de 2021"),2==c&&(A+=" Mes de Noviembre 2021",e.MES_DE_ULTIMO_PAGO="Mes de Noviembre de 2021"),3==c&&(A+=" Mes de Diciembre 2021",e.MES_DE_ULTIMO_PAGO="Mes de Diciembre de 2021"),4==c&&(A+=" Mes de Enero 2022",e.MES_DE_ULTIMO_PAGO="Mes de Enero de 2022"),5==c&&(A+=" Mes de Febrero 2022",e.MES_DE_ULTIMO_PAGO="Mes de Febrero de 2022"),6==c&&(A+=" Mes de Marzo 2022",e.MES_DE_ULTIMO_PAGO="Mes de Marzo de 2022"),7==c&&(A+=" Mes de Abril 2022",e.MES_DE_ULTIMO_PAGO="Mes de Abril de 2022"),8==c&&(A+=" Mes de Mayo 2022",e.MES_DE_ULTIMO_PAGO="Mes de Mayo de 2022"),9==c&&(A+=" Mes de Junio 2022",e.MES_DE_ULTIMO_PAGO="Mes de Junio de 2022"),10==c&&(A+=" Mes de Julio 2022",e.MES_DE_ULTIMO_PAGO="Mes de Julio de 2022"),11==c&&(e.MES_DE_ULTIMO_PAGO="Mes de Agosto de 2022")),e.CONCEPTO_DEUDA=A;let a=0;n.map(_=>a+=_),e.DEUDA_TOTAL=a}this.students.sort((r,i)=>parseInt(i.DEUDA_TOTAL)-parseInt(r.DEUDA_TOTAL)),this.debtors=this.students}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.V),t.Y36(u.v),t.Y36(C.q),t.Y36(m.M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-debtors"]],decls:7,vars:1,consts:[["id","container"],["class","table table-sm table-hover",4,"ngIf"],[1,"table","table-sm","table-hover"],["scope","col"],[4,"ngIf"],["scope","row"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1"),t.TgZ(2,"mat-icon"),t._uU(3,"warning"),t.qZA(),t._uU(4," Mayores Deudores"),t.qZA(),t._UZ(5,"hr"),t.YNc(6,Q,20,10,"table",1),t.qZA()),2&e&&(t.xp6(6),t.Q6J("ngIf",r.debtors))},directives:[T.Hw,S.O5],pipes:[S.H9],styles:["#container[_ngcontent-%COMP%]{padding:8px;background-color:#e8e8e8;height:100%;overflow-y:scroll}table[_ngcontent-%COMP%]{margin-top:-12px;font-size:12px}h1[_ngcontent-%COMP%]{font-weight:500}"]}),o})();function K(o,h){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"currency"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.qZA()),2&o){const e=h.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,3,e.FECHA_REGISTRO,"dd-MM-yy")," "),t.xp6(3),t.hij(" ",t.lcZ(6,6,e.TOTAL_USD)," "),t.xp6(3),t.hij(" ",e.NOMBRES_ALUMNO+" "+e.APELLIDOS_ALUMNO," ")}}function W(o,h){if(1&o&&(t.TgZ(0,"table",2),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th",3),t._uU(4,"Fecha"),t.qZA(),t.TgZ(5,"th",3),t._uU(6,"Total"),t.qZA(),t.TgZ(7,"th",3),t._uU(8,"Alumno"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"tbody"),t.YNc(10,K,9,8,"tr",4),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(10),t.Q6J("ngForOf",e.invoices)}}let $=(()=>{class o{constructor(e){this._invoiceService=e}ngOnInit(){this.getInvoices()}getInvoices(){this._invoiceService.getInvoices().subscribe({next:e=>{this.invoices=e,this.invoices=this.invoices.reverse(),this.invoices=this.invoices.splice(0,9)},error:e=>{console.log(e)}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C.q))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-invoices"]],decls:7,vars:1,consts:[["id","container"],["class","table table-sm table-hover",4,"ngIf"],[1,"table","table-sm","table-hover"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1"),t.TgZ(2,"mat-icon"),t._uU(3,"library_books"),t.qZA(),t._uU(4," \xdaltimas facturas"),t.qZA(),t._UZ(5,"hr"),t.YNc(6,W,11,1,"table",1),t.qZA()),2&e&&(t.xp6(6),t.Q6J("ngIf",r.invoices))},directives:[T.Hw,S.O5,S.sg],pipes:[S.uU,S.H9],styles:["#container[_ngcontent-%COMP%]{padding:8px;background-color:#e8e8e8;height:100%;overflow-y:scroll}table[_ngcontent-%COMP%]{margin-top:-12px;font-size:12px}h1[_ngcontent-%COMP%]{font-weight:500}"]}),o})(),I=(()=>{class o{constructor(e,r,i,n,l){this._studentService=e,this._customerService=r,this._invoiceService=i,this._productService=n,this._titleService=l,this.escenario=this.getScenario(),this.students=[],this.customers=[],this.invoices=[],this.products=[],this.productArr=[],this.invoiceArr=[],this.paymentsArr=[],this.datesArr=[],this.solvencyArr=[],this.solvencyPercentage=[]}ngOnInit(){this.getScenario(),this.getCustomers(),setTimeout(()=>{this._titleService.titleName="Inicio"})}updateScenario(){this.getCustomers(),this.getInvoices(),this.getProducts(),this.getStudents()}getScenario(){let e=(new Date).toJSON().slice(0,10),r=new Date("2021/09/05"),i=new Date("2021/10/05"),n=new Date("2021/11/05"),l=new Date("2021/12/05"),E=new Date("2022/01/05"),c=new Date("2022/02/05"),A=new Date("2022/03/05"),a=new Date("2022/04/05"),_=new Date("2022/05/05"),s=new Date("2022/06/05"),g=new Date("2022/07/05"),O=(new Date("2022/08/05"),new Date(e));return O>=r&&O<i?1:O>i&&O<n?2:O>n&&O<l?3:O>l&&O<E?4:O>E&&O<c?5:O>c&&O<A?6:O>A&&O<a?7:O>a&&O<_?8:O>_&&O<s?9:O>s&&O<g?10:12}getCustomers(){this._customerService.getCustomers().subscribe({next:e=>{this.customers=e,this.getInvoices()},error:e=>{console.log(e)}})}getInvoices(){this._invoiceService.getInvoices().subscribe({next:e=>{this.invoices=e,this.getProducts()},error:e=>{console.log(e)}})}getProducts(){this._productService.getProducts().subscribe({next:e=>{this.products=e,this.getStudents()},error:e=>{console.log(e)}})}getStudents(){this._studentService.getStudents().subscribe({next:e=>{this.students=e,setTimeout(()=>{this.getProductScenario(this.productArr)})},error:e=>{console.log(e)}})}getProductScenario(e){for(let r=0;r<12;r++)e[r]=this.products.filter(i=>i.ESCENARIO_PRODUCTO===r+1);this.addKeys()}addKeys(){for(let e of this.students)e.PAGO_MESES_MONTO=[],e.PAGO_MESES_FECHA=[],e.SOLVENCIA_MESES=[],e.PAGO_SEPTIEMBRE=0,e.PAGO_OCTUBRE=0,e.PAGO_NOVIEMBRE=0,e.PAGO_DICIEMBRE=0,e.PAGO_ENERO=0,e.PAGO_FEBRERO=0,e.PAGO_MARZO=0,e.PAGO_ABRIL=0,e.PAGO_MAYO=0,e.PAGO_JUNIO=0,e.PAGO_JULIO=0,e.PAGO_AGOSTO=0,e.FECHA_SEPTIEMBRE="",e.FECHA_OCTUBRE="",e.FECHA_NOVIEMBRE="",e.FECHA_DICIEMBRE="",e.FECHA_ENERO="",e.FECHA_FEBRERO="",e.FECHA_MARZO="",e.FECHA_ABRIL="",e.FECHA_MAYO="",e.FECHA_JUNIO="",e.FECHA_JULIO="",e.FECHA_AGOSTO="",e.DEUDA_TOTAL=0,this.getStudentInvoices(e)}getStudentInvoices(e){this.invoiceArr=this.invoices.filter(r=>r.ID_ALUMNO===e._id&&1==r.ESTATUS),this.productArr=this.productArr.filter(r=>""!=r),this.datesArr=[],this.paymentsArr.length=this.productArr.length,this.solvencyArr.length=this.productArr.length;for(let r=0;r<this.paymentsArr.length;r++)this.paymentsArr[r]=0;for(let r=0;r<this.solvencyArr.length;r++)this.solvencyArr[r]=!1;if(this.invoiceArr.length>0)for(let r=0;r<this.invoiceArr.length;r++)for(let i=0;i<this.productArr.length;i++)for(let n=0;n<this.productArr[i].length;n++){if(this.invoiceArr[r].ESCENARIO_1==this.productArr[i][n].ESCENARIO_PRODUCTO){this.paymentsArr[i]=this.paymentsArr[i]+this.invoiceArr[r].MONTO_1_USD,this.datesArr[i]=this.invoiceArr[r].FECHA_REGISTRO,("Full"==this.productArr[i][n].TIPO_PRODUCTO||"Complemento"==this.productArr[i][n].TIPO_PRODUCTO)&&(this.solvencyArr[i]=!0);break}if(this.invoiceArr[r].ESCENARIO_2==this.productArr[i][n].ESCENARIO_PRODUCTO){this.paymentsArr[i]=this.paymentsArr[i]+this.invoiceArr[r].MONTO_2_USD,this.datesArr[i]=this.invoiceArr[r].FECHA_REGISTRO,("Full"==this.productArr[i][n].TIPO_PRODUCTO||"Complemento"==this.productArr[i][n].TIPO_PRODUCTO)&&(this.solvencyArr[i]=!0);break}if(this.invoiceArr[r].ESCENARIO_3==this.productArr[i][n].ESCENARIO_PRODUCTO){this.paymentsArr[i]=this.paymentsArr[i]+this.invoiceArr[r].MONTO_3_USD,this.datesArr[i]=this.invoiceArr[r].FECHA_REGISTRO,("Full"==this.productArr[i][n].TIPO_PRODUCTO||"Complemento"==this.productArr[i][n].TIPO_PRODUCTO)&&(this.solvencyArr[i]=!0);break}if(this.invoiceArr[r].ESCENARIO_4==this.productArr[i][n].ESCENARIO_PRODUCTO){this.paymentsArr[i]=this.paymentsArr[i]+this.invoiceArr[r].MONTO_4_USD,this.datesArr[i]=this.invoiceArr[r].FECHA_REGISTRO,("Full"==this.productArr[i][n].TIPO_PRODUCTO||"Complemento"==this.productArr[i][n].TIPO_PRODUCTO)&&(this.solvencyArr[i]=!0);break}if(this.invoiceArr[r].ESCENARIO_5==this.productArr[i][n].ESCENARIO_PRODUCTO){this.paymentsArr[i]=this.paymentsArr[i]+this.invoiceArr[r].MONTO_5_USD,this.datesArr[i]=this.invoiceArr[r].FECHA_REGISTRO,("Full"==this.productArr[i][n].TIPO_PRODUCTO||"Complemento"==this.productArr[i][n].TIPO_PRODUCTO)&&(this.solvencyArr[i]=!0);break}}e.PAGO_MESES_MONTO=this.paymentsArr,e.FECHA_MESES_MONTO=this.datesArr,e.SOLVENCIA_MESES=this.solvencyArr,this.getStudentDebt(e)}getStudentDebt(e){for(let r=0;r<this.escenario;r++)if(this.escenario==r+1){let i=this.productArr.slice(0,r+1),n=[];if("Preescolar"==e.NIVEL_ALUMNO)for(let c=0;c<i.length;c++){let A=i[c].filter(a=>"Full"==a.TIPO_PRODUCTO);n.push(A[0].ESCENARIO_PRODUCTO<this.escenario&&0!=A[0].PAGO_VENCIDO_PREESCOLAR?A[0].PAGO_VENCIDO_PREESCOLAR:A[0].PRECIO_PREESCOLAR)}if("Basica"==e.NIVEL_ALUMNO)for(let c=0;c<i.length;c++){let A=i[c].filter(a=>"Full"==a.TIPO_PRODUCTO);n.push(A[0].ESCENARIO_PRODUCTO<this.escenario&&0!=A[0].PAGO_VENCIDO_BASICA?A[0].PAGO_VENCIDO_BASICA:A[0].PRECIO_BASICA)}let l=[];if(l){for(let a=0;a<12;a++)l[a]=!1;for(let a=0;a<12;a++)e.INICIO_COBRO==a+1&&(l[a]=!0);for(let a=0;a<12;a++)e.FINAL_COBRO==a+1&&(l[a]=!0);let c=l.indexOf(!0),A=l.lastIndexOf(!0);for(let a=c;a<A;a++)l[a]=!0;if("1"==e.ESTATUS)for(let a=Number(e.FECHA_RETIRO);a<12;a++)l[a]=!1}if(1==e.BECA_ALUMNO)for(let c=0;c<e.SOLVENCIA_MESES.length;c++)e.SOLVENCIA_MESES[c]=!0;if(e.DESC_ALUMNO>0)for(let c=0;c<n.length;c++)n[c]=n[c]*e.DESC_ALUMNO;for(let c=0;c<n.length;c++)n[c]=n[c]-e.PAGO_MESES_MONTO[c],(1==e.SOLVENCIA_MESES[c]||n[c]<0||0==l[c])&&(n[c]=0);e.PAGO_SEPTIEMBRE=e.PAGO_MESES_MONTO[0],e.PAGO_OCTUBRE=e.PAGO_MESES_MONTO[1],e.PAGO_NOVIEMBRE=e.PAGO_MESES_MONTO[2],e.PAGO_DICIEMBRE=e.PAGO_MESES_MONTO[3],e.PAGO_ENERO=e.PAGO_MESES_MONTO[4],e.PAGO_FEBRERO=e.PAGO_MESES_MONTO[5],e.PAGO_MARZO=e.PAGO_MESES_MONTO[6],e.PAGO_ABRIL=e.PAGO_MESES_MONTO[7],e.PAGO_MAYO=e.PAGO_MESES_MONTO[8],e.PAGO_JUNIO=e.PAGO_MESES_MONTO[9],e.PAGO_JULIO=e.PAGO_MESES_MONTO[10],e.PAGO_AGOSTO=e.PAGO_MESES_MONTO[11],e.FECHA_SEPTIEMBRE=e.FECHA_MESES_MONTO[0],e.FECHA_OCTUBRE=e.FECHA_MESES_MONTO[1],e.FECHA_NOVIEMBRE=e.FECHA_MESES_MONTO[2],e.FECHA_DICIEMBRE=e.FECHA_MESES_MONTO[3],e.FECHA_ENERO=e.FECHA_MESES_MONTO[4],e.FECHA_FEBRERO=e.FECHA_MESES_MONTO[5],e.FECHA_MARZO=e.FECHA_MESES_MONTO[6],e.FECHA_ABRIL=e.FECHA_MESES_MONTO[7],e.FECHA_MAYO=e.FECHA_MESES_MONTO[8],e.FECHA_JUNIO=e.FECHA_MESES_MONTO[9],e.FECHA_JULIO=e.FECHA_MESES_MONTO[10],e.FECHA_AGOSTO=e.FECHA_MESES_MONTO[11],e.SOLVENCIA_SEPTIEMBRE=e.SOLVENCIA_MESES[0],e.SOLVENCIA_OCTUBRE=e.SOLVENCIA_MESES[1],e.SOLVENCIA_NOVIEMBRE=e.SOLVENCIA_MESES[2],e.SOLVENCIA_DICIEMBRE=e.SOLVENCIA_MESES[3],e.SOLVENCIA_ENERO=e.SOLVENCIA_MESES[4],e.SOLVENCIA_FEBRERO=e.SOLVENCIA_MESES[5],e.SOLVENCIA_MARZO=e.SOLVENCIA_MESES[6],e.SOLVENCIA_ABRIL=e.SOLVENCIA_MESES[7],e.SOLVENCIA_MAYO=e.SOLVENCIA_MESES[8],e.SOLVENCIA_JUNIO=e.SOLVENCIA_MESES[9],e.SOLVENCIA_JULIO=e.SOLVENCIA_MESES[10],e.SOLVENCIA_AGOSTO=e.SOLVENCIA_MESES[11];let E=0;n.map(c=>E+=c),e.DEUDA_TOTAL=E,this.debtors=this.students}this.getSolvencyIndex()}getSolvencyIndex(){let e=[],r=[];for(let i=0;i<this.escenario;i++)r[i]=this.debtors.filter(n=>n.INICIO_COBRO<=i+1&&0==n.BECA_ALUMNO&&n.FECHA_RETIRO>i+1);for(let i=0;i<this.escenario;i++)e[i]=this.debtors.filter(n=>n.INICIO_COBRO<=i+1&&n.FECHA_RETIRO>i+1);this.escenario>=1&&(r[0]=r[0].filter(i=>1==i.SOLVENCIA_SEPTIEMBRE)),this.escenario>=2&&(r[1]=r[1].filter(i=>1==i.SOLVENCIA_OCTUBRE)),this.escenario>=3&&(r[2]=r[2].filter(i=>1==i.SOLVENCIA_NOVIEMBRE)),this.escenario>=4&&(r[3]=r[3].filter(i=>1==i.SOLVENCIA_DICIEMBRE)),this.escenario>=5&&(r[4]=r[4].filter(i=>1==i.SOLVENCIA_ENERO)),this.escenario>=6&&(r[5]=r[5].filter(i=>1==i.SOLVENCIA_FEBRERO)),this.escenario>=7&&(r[6]=r[6].filter(i=>1==i.SOLVENCIA_MARZO)),this.escenario>=8&&(r[7]=r[7].filter(i=>1==i.SOLVENCIA_ABRIL)),this.escenario>=9&&(r[8]=r[8].filter(i=>1==i.SOLVENCIA_MAYO)),this.escenario>=10&&(r[9]=r[9].filter(i=>1==i.SOLVENCIA_JUNIO)),this.escenario>=11&&(r[10]=r[10].filter(i=>1==i.SOLVENCIA_JULIO)),this.escenario>=12&&(r[11]=r[11].filter(i=>1==i.SOLVENCIA_AGOSTO));for(let i=0;i<r.length;i++)r[i]=r[i].length;for(let i=0;i<e.length;i++)e[i]=e[i].length;for(let i=0;i<this.escenario;i++)this.solvencyPercentage[i]=100/e[i]*r[i],this.solvencyPercentage[i]=this.roundNumber(this.solvencyPercentage[i],2);for(let i=0;i<12;i++)this.solvencyPercentage[i+this.escenario]=0,12==this.solvencyPercentage.length&&(i=12)}roundNumber(e,r){const i=Math.pow(10,r);return Math.round(e*i)/i}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.V),t.Y36(u.v),t.Y36(C.q),t.Y36(m.M),t.Y36(N.Z))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-start"]],decls:103,vars:36,consts:[["id","dashboard-container",1,"container-fluid","mt-4"],[1,"d-flex","justify-content-between","mb-4"],[1,"upper-box"],["id","container",1,"bottom-box"],["id","heading",1,"text-center"],["id","q-graph"],["id","q1",1,"qtr"],["scope","row"],["id","q1-bar",1,"sent","bar"],["id","q1-p"],["id","q2",1,"qtr"],["id","q2-bar",1,"sent","bar"],["id","q2-p"],["id","q3",1,"qtr"],["id","q3-bar",1,"sent","bar"],["id","q3-p"],["id","q4",1,"qtr"],["id","q4-bar",1,"sent","bar"],["id","q4-p"],["id","q5",1,"qtr"],["id","q5-bar",1,"sent","bar"],["id","q5-p"],["id","q6",1,"qtr"],["id","q6-bar",1,"sent","bar"],["id","q6-p"],["id","q7",1,"qtr"],["id","q7-bar",1,"sent","bar"],["id","q7-p"],["id","q8",1,"qtr"],["id","q8-bar",1,"sent","bar"],["id","q8-p"],["id","q9",1,"qtr"],["id","q9-bar",1,"sent","bar"],["id","q9-p"],["id","q10",1,"qtr"],["id","q10-bar",1,"sent","bar"],["id","q10-p"],["id","q11",1,"qtr"],["id","q11-bar",1,"sent","bar"],["id","q11-p"],["id","q12",1,"qtr"],["id","q12-bar",1,"sent","bar"],["id","q12-p"],["id","q13",1,"qtr"],["id","ticks"],[1,"tick",2,"height","55px"],["id","bottom-tick",1,"tick",2,"height","55px"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"app-students",2),t._UZ(3,"app-income",2),t._UZ(4,"app-debtors",2),t._UZ(5,"app-invoices",2),t.qZA(),t.TgZ(6,"div",3),t.TgZ(7,"h1",4),t.TgZ(8,"mat-icon"),t._uU(9,"insert_chart_outlined"),t.qZA(),t._uU(10," Hist\xf3rico de Solvencia"),t.qZA(),t._UZ(11,"hr"),t.TgZ(12,"table",5),t.TgZ(13,"tbody"),t.TgZ(14,"tr",6),t.TgZ(15,"th",7),t._uU(16,"Septiembre"),t.qZA(),t.TgZ(17,"td",8),t.TgZ(18,"p",9),t._uU(19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"tr",10),t.TgZ(21,"th",7),t._uU(22,"Octubre"),t.qZA(),t.TgZ(23,"td",11),t.TgZ(24,"p",12),t._uU(25),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"tr",13),t.TgZ(27,"th",7),t._uU(28,"Noviembre"),t.qZA(),t.TgZ(29,"td",14),t.TgZ(30,"p",15),t._uU(31),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"tr",16),t.TgZ(33,"th",7),t._uU(34,"Diciembre"),t.qZA(),t.TgZ(35,"td",17),t.TgZ(36,"p",18),t._uU(37),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"tr",19),t.TgZ(39,"th",7),t._uU(40,"Enero"),t.qZA(),t.TgZ(41,"td",20),t.TgZ(42,"p",21),t._uU(43),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"tr",22),t.TgZ(45,"th",7),t._uU(46,"Febrero"),t.qZA(),t.TgZ(47,"td",23),t.TgZ(48,"p",24),t._uU(49),t.qZA(),t.qZA(),t.qZA(),t.TgZ(50,"tr",25),t.TgZ(51,"th",7),t._uU(52,"Marzo"),t.qZA(),t.TgZ(53,"td",26),t.TgZ(54,"p",27),t._uU(55),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"tr",28),t.TgZ(57,"th",7),t._uU(58,"Abril"),t.qZA(),t.TgZ(59,"td",29),t.TgZ(60,"p",30),t._uU(61),t.qZA(),t.qZA(),t.qZA(),t.TgZ(62,"tr",31),t.TgZ(63,"th",7),t._uU(64,"Mayo"),t.qZA(),t.TgZ(65,"td",32),t.TgZ(66,"p",33),t._uU(67),t.qZA(),t.qZA(),t.qZA(),t.TgZ(68,"tr",34),t.TgZ(69,"th",7),t._uU(70,"Junio"),t.qZA(),t.TgZ(71,"td",35),t.TgZ(72,"p",36),t._uU(73),t.qZA(),t.qZA(),t.qZA(),t.TgZ(74,"tr",37),t.TgZ(75,"th",7),t._uU(76,"Julio"),t.qZA(),t.TgZ(77,"td",38),t.TgZ(78,"p",39),t._uU(79),t.qZA(),t.qZA(),t.qZA(),t.TgZ(80,"tr",40),t.TgZ(81,"th",7),t._uU(82,"Agosto"),t.qZA(),t.TgZ(83,"td",41),t.TgZ(84,"p",42),t._uU(85),t.qZA(),t.qZA(),t.qZA(),t._UZ(86,"tr",43),t.qZA(),t.qZA(),t.TgZ(87,"div",44),t.TgZ(88,"div",45),t.TgZ(89,"p"),t._uU(90,"100%"),t.qZA(),t.qZA(),t.TgZ(91,"div",45),t.TgZ(92,"p"),t._uU(93,"80%"),t.qZA(),t.qZA(),t.TgZ(94,"div",45),t.TgZ(95,"p"),t._uU(96,"60%"),t.qZA(),t.qZA(),t.TgZ(97,"div",45),t.TgZ(98,"p"),t._uU(99,"40%"),t.qZA(),t.qZA(),t.TgZ(100,"div",46),t.TgZ(101,"p"),t._uU(102,"20%"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(17),t.Udp("height",2.73*r.solvencyPercentage[0],"px"),t.xp6(2),t.Oqu(r.solvencyPercentage[0]+"%"),t.xp6(4),t.Udp("height",2.73*r.solvencyPercentage[1],"px"),t.xp6(2),t.hij("",r.solvencyPercentage[1]+"%"," "),t.xp6(4),t.Udp("height",2.73*r.solvencyPercentage[2],"px"),t.xp6(2),t.Oqu(r.solvencyPercentage[2]+"%"),t.xp6(4),t.Udp("height",2.73*r.solvencyPercentage[3],"px"),t.xp6(2),t.Oqu(r.solvencyPercentage[3]+"%"),t.xp6(4),t.Udp("height",2.73*r.solvencyPercentage[4],"px"),t.xp6(2),t.Oqu(r.solvencyPercentage[4]+"%"),t.xp6(4),t.Udp("height",2.73*r.solvencyPercentage[5],"px"),t.xp6(2),t.Oqu(r.solvencyPercentage[5]+"%"),t.xp6(4),t.Udp("height",2.73*r.solvencyPercentage[6],"px"),t.xp6(2),t.Oqu(r.solvencyPercentage[6]+"%"),t.xp6(4),t.Udp("height",2.73*r.solvencyPercentage[7],"px"),t.xp6(2),t.Oqu(r.solvencyPercentage[7]+"%"),t.xp6(4),t.Udp("height",2.73*r.solvencyPercentage[8],"px"),t.xp6(2),t.Oqu(r.solvencyPercentage[8]+"%"),t.xp6(4),t.Udp("height",2.73*r.solvencyPercentage[9],"px"),t.xp6(2),t.Oqu(r.solvencyPercentage[9]+"%"),t.xp6(4),t.Udp("height",2.73*r.solvencyPercentage[10],"px"),t.xp6(2),t.Oqu(r.solvencyPercentage[10]+"%"),t.xp6(4),t.Udp("height",2.73*r.solvencyPercentage[11],"px"),t.xp6(2),t.Oqu(r.solvencyPercentage[11]+"%"))},directives:[y,F,X,$,T.Hw],styles:["h1[_ngcontent-%COMP%]{font-weight:500;margin-bottom:-8px}#dashboard-container[_ngcontent-%COMP%]{width:90%}.upper-box[_ngcontent-%COMP%], .bottom-box[_ngcontent-%COMP%]{border-radius:8px;height:200px;background-color:#e8e8e8;overflow:hidden}.upper-box[_ngcontent-%COMP%]{width:23%}.bottom-box[_ngcontent-%COMP%]{width:100%;height:380px}#container[_ngcontent-%COMP%]{padding:8px;background-color:#e8e8e8}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-family:fira-sans-2,Verdana,sans-serif}#q-graph[_ngcontent-%COMP%]{display:block;position:relative;width:100%;height:315px;margin:1.1em 0 0;padding:0;background:transparent;font-size:11px}#q-graph[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], #q-graph[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #q-graph[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:absolute;bottom:0;width:150px;z-index:2;margin:0;padding:0;text-align:center}#q-graph[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{transition:all .3s ease}#q-graph[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{background-color:#27e75b;opacity:.9}#q-graph[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:0px;top:7px;height:272px;border-right:1px dotted #a5a5a5;color:#a5a5a5}#q-graph[_ngcontent-%COMP%]   #q1[_ngcontent-%COMP%]{left:100px}#q-graph[_ngcontent-%COMP%]   #q2[_ngcontent-%COMP%]{left:180px}#q-graph[_ngcontent-%COMP%]   #q3[_ngcontent-%COMP%]{left:260px}#q-graph[_ngcontent-%COMP%]   #q4[_ngcontent-%COMP%]{left:340px}#q-graph[_ngcontent-%COMP%]   #q5[_ngcontent-%COMP%]{left:420px}#q-graph[_ngcontent-%COMP%]   #q6[_ngcontent-%COMP%]{left:500px}#q-graph[_ngcontent-%COMP%]   #q7[_ngcontent-%COMP%]{left:580px}#q-graph[_ngcontent-%COMP%]   #q8[_ngcontent-%COMP%]{left:660px}#q-graph[_ngcontent-%COMP%]   #q9[_ngcontent-%COMP%]{left:740px}#q-graph[_ngcontent-%COMP%]   #q10[_ngcontent-%COMP%]{left:820px}#q-graph[_ngcontent-%COMP%]   #q11[_ngcontent-%COMP%]{left:900px}#q-graph[_ngcontent-%COMP%]   #q12[_ngcontent-%COMP%]{left:980px}#q-graph[_ngcontent-%COMP%]   #q13[_ngcontent-%COMP%]{left:1060px}#q-graph[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{bottom:-1.75em;margin-left:-10px;vertical-align:top;font-weight:400;color:#333}td[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}#q-graph[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:60px;border:1px solid;border-bottom:none;color:#000}#q-graph[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;padding:0;opacity:.4}#q-graph[_ngcontent-%COMP%]   .sent[_ngcontent-%COMP%]{left:13px;background-color:#3f50b4;border-color:transparent}#ticks[_ngcontent-%COMP%]{position:relative;width:90%;top:-310px;left:60px;z-index:1;font-size:10px;font-family:fira-sans-2,Verdana,sans-serif}#bottom-tick[_ngcontent-%COMP%]{border-bottom:1px dotted #a5a5a5}#ticks[_ngcontent-%COMP%]   .tick[_ngcontent-%COMP%]{position:relative;border-top:1px dotted #a5a5a5}#ticks[_ngcontent-%COMP%]   .tick[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;left:-5em;top:-.8em;margin:0 0 0 .5em}"]}),o})();const tt=[{path:"",children:[{path:"",component:I},{path:"inicio",component:I}]}];let et=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.Bz.forChild(tt)],f.Bz]}),o})();var rt=p(4999),it=p(4847),ot=p(9062),nt=p(8966),st=p(4107),At=p(1079),ct=p(6856),Ot=p(508),_t=p(7446),ht=p(6186),at=p(9270),Et=p(8413);let lt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[{provide:P.TP,useClass:Et.W,multi:!0}],imports:[[S.ez,et,rt.p0,it.JX,ot.TU,nt.Is,st.LD,At.Bb,ct.FA,Ot.XK,_t.p9,ht.K,at.I,T.Ps]]}),o})()}}]);